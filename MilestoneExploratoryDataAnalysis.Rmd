---
title: "MilestoneExploratoryDataAnalysis"
author: "Mathew Bramson"
date: "December 27, 2015"
output: html_document
---

# Executive Summary

This report contains exploratory data analysis and initial findings from a dataset of US Tweets, Blogs, and News. The source data consists of various corpora scraped from publicly available sources.

The original datasets as well as documentation can be found at http://www.corpora.heliohost.org/

# Data Preparation

```{r global_options, include=FALSE}
knitr::opts_chunk$set(warning=FALSE)
```

```{r load_packages, message=FALSE}
library(quanteda)
library(RColorBrewer)
library(ggplot2)
```

## Building Corpora

### Subsetting the Data

For this report the data will be subsetted to 10% of the original data so that it can be constructed in a manageable amount of time.
```{r subsetting, echo=FALSE}
set.seed(800)
```

```{r load_tweets}
tweet.con <- file("en_US.twitter.txt", open="rb")
tweet.vector <- readLines(tweet.con, encoding="UTF-8")
tweet.count <- length(tweet.vector)
tweet.subset <- sample(tweet.vector, size=tweet.count * 0.10, replace = FALSE)
tweet.corpus <- corpus(tweet.subset)
close(tweet.con)
```

```{r tidy_tweets, echo=FALSE}
rm(tweet.subset, tweet.vector, tweet.con)
```

```{r load_blogs}
blog.con <- file("en_US.blogs.txt", open="rb")
blog.vector <- readLines(blog.con, encoding="UTF-8")
blog.count <- length(blog.vector)
blog.subset <- sample(blog.vector, size=blog.count * 0.10, replace = FALSE)
blog.corpus <- corpus(blog.subset)
close(blog.con)
```

```{r tidy_blogs, echo=FALSE}
rm(blog.subset, blog.vector, blog.con)
```

```{r load_news}
news.con <- file("en_US.news.txt", open="rb")
news.vector <- readLines(news.con, encoding="UTF-8")
news.count <- length(news.vector)
news.subset <- sample(news.vector, size=news.count * 0.10, replace = FALSE)
news.corpus <- corpus(news.subset)
close(news.con)
```

```{r tidy_news, echo=FALSE}
rm(news.subset, news.vector, news.con)
```

# Exploratory Data Analysis

## Document Feature Matrix Creation
```{r tweet_dfm}
tweet.dfm <- dfm(tweet.corpus, ignoredFeatures = stopwords("english"), stem=TRUE)
```

```{r blog_dfm}
blog.dfm <- dfm(blog.corpus, ignoredFeatures = stopwords("english"), stem=TRUE)
```

```{r news_dfm}
news.dfm <- dfm(news.corpus, ignoredFeatures = stopwords("english"), stem=TRUE)
```

## Word Clouds

###Tweets

```{r tweet_wordclouds}
plot(tweet.dfm, max.words=30, colors = brewer.pal(6, "Dark2"), scale=c(4, .5))
```

### Blogs

```{r blog_wordcloud}
plot(blog.dfm, max.words=30, colors = brewer.pal(6, "Dark2"), scale=c(4, .5))
```

### News

```{r news_wordcloud}
plot(news.dfm, max.words=30, colors = brewer.pal(6, "Dark2"), scale=c(4, .5))
```

## Top Features

### Tweets

```{r tweet_top_features}
topfeatures(tweet.dfm, n=30)
```

### Blogs

```{r blog_top_features}
topfeatures(blog.dfm, n=30)
```

### News

```{r news_top_features}
topfeatures(news.dfm, n=30)
```